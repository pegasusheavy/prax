---
description: Guidelines for maintaining README.md documentation for the Prax ORM project
globs: ["README.md"]
alwaysApply: false
---

# README Guidelines

This document provides guidelines for maintaining the project README to ensure clear, accurate, and helpful documentation.

## README Structure

The README should follow this structure:

```markdown
# Prax

<badges and shields>

<brief description>

## Features
## Installation
## Quick Start
## Query Operations
## Architecture
## CLI
## Comparison
## Contributing
## License
## Acknowledgments
```

## When to Update

### Always Update When:
- âœ… Adding new public API methods
- âœ… Changing installation requirements
- âœ… Adding new features mentioned in examples
- âœ… Changing CLI commands
- âœ… Adding new database backend support
- âœ… Adding new framework integrations
- âœ… Changing minimum Rust version

### Consider Updating When:
- ğŸ¤” Fixing bugs that affect documented behavior
- ğŸ¤” Improving performance significantly
- ğŸ¤” Adding new optional features

### Don't Update For:
- âŒ Internal refactoring
- âŒ Test changes
- âŒ Minor bug fixes
- âŒ Dependency updates (unless breaking)

## Section Guidelines

### Header & Badges

```markdown
# Prax

<p align="center">
  <strong>A next-generation, type-safe ORM for Rust</strong>
</p>

<p align="center">
  <a href="https://crates.io/crates/prax"><img src="https://img.shields.io/crates/v/prax.svg" alt="crates.io"></a>
  <a href="https://docs.rs/prax"><img src="https://docs.rs/prax/badge.svg" alt="docs.rs"></a>
  <a href="https://github.com/pegasusheavy/prax/actions"><img src="https://github.com/pegasusheavy/prax/workflows/CI/badge.svg" alt="CI"></a>
  <img src="https://img.shields.io/badge/rust-1.85%2B-blue.svg" alt="Rust 1.85+">
  <a href="#license"><img src="https://img.shields.io/badge/license-MIT%2FApache--2.0-blue.svg" alt="License"></a>
</p>
```

### Features Section

List features with emoji icons for scannability:

```markdown
## Features

- ğŸ”’ **Type-Safe Queries** - Compile-time checked queries
- âš¡ **Async-First** - Built on Tokio
- ğŸ¯ **Fluent API** - Intuitive query builder
- ğŸ”— **Relations** - Eager and lazy loading
- ğŸ“¦ **Migrations** - Schema management
- ğŸ› ï¸ **Code Generation** - Proc-macro models
- ğŸ—„ï¸ **Multi-Database** - PostgreSQL, MySQL, SQLite
- ğŸ”Œ **Framework Integration** - Armature, Axum, Actix-web
```

### Installation Section

Always show:
1. Basic installation
2. Feature flags for different backends
3. Minimum Rust version requirement

```markdown
## Installation

Add Prax to your `Cargo.toml`:

\`\`\`toml
[dependencies]
prax = "0.1"
\`\`\`

**Requires Rust 1.85+** (Edition 2024)

### Feature Flags

| Feature | Description |
|---------|-------------|
| `postgres` | PostgreSQL support (default) |
| `mysql` | MySQL support |
| `sqlite` | SQLite support |
| `runtime-tokio` | Tokio runtime (default) |
```

### Quick Start Section

Provide a complete, copy-pasteable example:

```markdown
## Quick Start

\`\`\`rust
use prax::prelude::*;

#[derive(Model)]
#[prax(table = "users")]
pub struct User {
    #[prax(id)]
    pub id: i32,
    pub email: String,
}

#[tokio::main]
async fn main() -> Result<(), prax::Error> {
    let client = PraxClient::new("postgresql://localhost/mydb").await?;

    let users = client.user().find_many().exec().await?;

    Ok(())
}
\`\`\`
```

### Code Examples

#### DO âœ…

```rust
// Good: Complete, runnable example
use prax::prelude::*;

let users = client
    .user()
    .find_many()
    .where_(user::active::equals(true))
    .order_by(user::created_at::desc())
    .take(10)
    .exec()
    .await?;
```

#### DON'T âŒ

```rust
// Bad: Incomplete, won't compile
let users = client.user().find_many()...
```

### API Documentation

When documenting query operations, use tables for clarity:

```markdown
## Query Operations

### Filtering

| Method | SQL Equivalent | Example |
|--------|---------------|---------|
| `equals(v)` | `= v` | `user::id::equals(1)` |
| `not_equals(v)` | `!= v` | `user::status::not_equals("banned")` |
| `contains(v)` | `LIKE %v%` | `user::name::contains("john")` |
| `gt(v)` | `> v` | `user::age::gt(18)` |
```

### Architecture Section

Keep the directory tree updated:

```markdown
## Architecture

\`\`\`
prax/
â”œâ”€â”€ prax-core/           # Core types and traits
â”œâ”€â”€ prax-schema/         # Schema parser
â”œâ”€â”€ prax-codegen/        # Proc-macros
â”œâ”€â”€ prax-query/          # Query builder
â”œâ”€â”€ prax-postgres/       # PostgreSQL driver
â”œâ”€â”€ prax-mysql/          # MySQL driver
â”œâ”€â”€ prax-sqlite/         # SQLite driver
â”œâ”€â”€ prax-migrate/        # Migrations
â”œâ”€â”€ prax-cli/            # CLI tool
â”œâ”€â”€ prax-armature/       # Armature integration
â””â”€â”€ prax/                # Main crate
\`\`\`
```

### Comparison Table

Keep comparisons fair and up-to-date:

```markdown
## Comparison

| Feature | Prax | Diesel | SeaORM | SQLx |
|---------|------|--------|--------|------|
| Async | âœ… | âŒ | âœ… | âœ… |
| Type-Safe | âœ… | âœ… | âœ… | âœ… |
| Schema DSL | âœ… | âŒ | âŒ | âŒ |
| Migrations | âœ… | âœ… | âœ… | âœ… |
```

## Writing Style

### Tone
- Professional but approachable
- Confident but not arrogant
- Technical but accessible

### Formatting
- Use code blocks with language hints
- Use tables for structured data
- Use emoji sparingly for visual scanning
- Keep paragraphs short (2-3 sentences max)

### Links
- Link to detailed docs for complex topics
- Use relative links for repo files: `[CONTRIBUTING](./CONTRIBUTING.md)`
- Use absolute links for external resources

## Code Block Standards

### Always Specify Language

```markdown
\`\`\`rust
// Rust code
\`\`\`

\`\`\`toml
# TOML config
\`\`\`

\`\`\`bash
# Shell commands
\`\`\`

\`\`\`sql
-- SQL queries
\`\`\`
```

### Include Error Handling

Show realistic code with proper error handling:

```rust
// Good: Shows error handling
let user = client
    .user()
    .find_unique(user::id::equals(1))
    .exec()
    .await?
    .ok_or(Error::NotFound)?;

// Avoid: Hides complexity
let user = client.user().find_unique(...).exec().await.unwrap();
```

### Keep Examples Concise

```rust
// Good: Focused example
let users = client
    .user()
    .find_many()
    .where_(user::active::equals(true))
    .exec()
    .await?;

// Avoid: Too much going on
let users = client
    .user()
    .find_many()
    .where_(and![
        user::active::equals(true),
        user::role::equals("admin"),
        user::created_at::gt(DateTime::from(...)),
    ])
    .include(user::posts::fetch().include(post::comments::fetch()))
    .order_by(user::name::asc())
    .skip(page * 10)
    .take(10)
    .exec()
    .await?;
```

## Sync Checklist

When updating the README, verify:

- [ ] Code examples compile and run
- [ ] Version numbers match `Cargo.toml`
- [ ] Feature flags are accurate
- [ ] Links are not broken
- [ ] CLI commands are current
- [ ] Comparison table is fair/accurate
- [ ] Architecture tree matches actual structure
- [ ] Installation instructions work

## Common Updates

### New Feature Added

1. Add to Features list if significant
2. Add usage example in appropriate section
3. Update comparison table if relevant

### New Database Backend

1. Add to Features list
2. Add installation instructions with feature flag
3. Add to comparison table
4. Add backend-specific examples if needed

### New Framework Integration

1. Add to Features list
2. Add installation with integration crate
3. Add example in Quick Start or dedicated section

### API Change

1. Update affected code examples
2. Note breaking changes prominently
3. Show migration path if applicable

### Version Bump

1. Update badge URLs if needed
2. Update minimum Rust version if changed
3. Verify all version references are consistent
